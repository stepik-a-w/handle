(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"390d":function(t,e,s){"use strict";s("8994")},8994:function(t,e,s){},be56:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor-dark"},[s("q-toolbar",{staticClass:" text-white"},[s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back",to:"/"}}),s("q-toolbar-title",[s("small",[t._v("\n      Степ "+t._s(t.step_id)+".\n        "),s("a",{staticClass:"q-link",attrs:{href:"https://stepik.org/lesson/"+t.step_lesson+"/step/"+t.step_position,target:"_blank"}},[t._v("Открыть на степике")]),t._v("\n        "),s("a",{staticClass:"q-link",attrs:{href:"https://stepik.org/edit-lesson/"+t.step_lesson+"/step/"+t.step_position,target:"_blank"}},[t._v("В редакторе")])])]),s("q-btn",{attrs:{color:"white","text-color":"black",label:"Загрузить"},on:{click:t.loadData}}),t._v("   \n    "),s("q-btn",{attrs:{color:"white","text-color":"black",label:"Сохранить"},on:{click:t.saveData}}),t._v("   \n\n  ")],1),s("div",{staticClass:"row"},[s("div",{staticClass:"editor-left col-5 q-pa-md"},[s("q-card",[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"editor",label:"Задание"}}),s("q-tab",{attrs:{name:"tests",label:"Тесты"}}),s("q-tab",{attrs:{name:"preview",label:"Превью"}}),s("q-tab",{attrs:{name:"templates",label:"Шаблоны и импорт"}})],1),s("q-separator"),s("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"editor"}},[s("q-editor",{attrs:{"min-height":"20rem",toolbar:[[{label:t.$q.lang.editor.formatting,icon:t.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","code"]},"bold","hr","link","fullscreen","removeFormat","viewsource"]]},model:{value:t.step_block.text,callback:function(e){t.$set(t.step_block,"text",e)},expression:"step_block.text"}})],1),s("q-tab-panel",{attrs:{name:"tests"}},[s("div",{staticClass:"text-h6"},[t._v("Тесты")]),t._l(t.step_block.source.test_cases,(function(e,a){return s("span",[s("q-input",{attrs:{filled:"",type:"textarea","fill-mask":"#",autogrow:""},model:{value:e[0],callback:function(s){t.$set(e,0,s)},expression:"sample[0]"}}),s("br"),s("q-input",{attrs:{filled:"",type:"textarea","fill-mask":"#",autogrow:""},model:{value:e[1],callback:function(s){t.$set(e,1,s)},expression:"sample[1]"}}),s("br"),s("hr")],1)})),s("br"),s("p",[t._v("Показывать тестов:")]),s("q-input",{attrs:{filled:"","fill-mask":"#"},model:{value:t.step_block.source.samples_count,callback:function(e){t.$set(t.step_block.source,"samples_count",e)},expression:"step_block.source.samples_count"}})],2),s("q-tab-panel",{attrs:{name:"preview"}},[s("q-btn",{attrs:{color:"white","text-color":"black",label:"Обновить превью"},on:{click:t.refreshPreview}}),s("div",{staticClass:"preview"},[s("iframe",{attrs:{id:"previewiframe",src:""}})])],1),s("q-tab-panel",{attrs:{name:"templates"}},[s("div",{staticClass:"text-h6"},[t._v("Шаблоны")]),s("q-btn-dropdown",{attrs:{color:"primary",label:"Загрузить шаблон"}},[s("q-list",[s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.loadTemplate}},[s("q-item-section",[s("q-item-label",[t._v("Шаблон: django с Client")])],1)],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[s("q-item-section",[s("q-item-label",[t._v("Шаблон: django с фикстурами")])],1)],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[s("q-item-section",[s("q-item-label",[t._v("Шаблон: django с настройками")])],1)],1),s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""}},[s("q-item-section",[s("q-item-label",[t._v("Шаблон: django api с Api Client")])],1)],1)],1)],1)],1)],1)],1)],1),s("div",{staticClass:"editor-right col-7 q-pa-md",staticStyle:{position:"relative"}},[s("codemirror",{attrs:{options:t.cmOptions,"min-height":"30rem"},model:{value:t.step_block.source.templates_data,callback:function(e){t.$set(t.step_block.source,"templates_data",e)},expression:"step_block.source.templates_data"}}),s("br"),s("br")],1)])],1)},o=[],l=s("8f94"),i=(s("a7be"),s("db91"),s("8c2e"),s("31c5"),s("9948"),s("b933"),s("4ba6"),s("8c33"),s("7289"),s("2aed"),s("d72f"),s("0b6c"),s("9a48"),s("697e"),s("aedd"),s("164b"),s("4895"),s("cbc8"),s("8d70"),s("9f09"),s("a2c1"),{name:"PageIndex",components:{codemirror:l["codemirror"]},data(){return{step_lesson:this.$router.currentRoute.query.lesson,step_position:this.$router.currentRoute.query.position,step_id:this.$router.currentRoute.query.step,step_data:{},step_source:{},step_block:{text:"Текст задачки",source:{template_data:"",samples_count:1},options:{samples:[]}},cmOptions:{tabSize:4,fold:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],viewportMargin:1/0,mode:"text/x-python",theme:"base16-dark",lineNumbers:!0,line:!0,lineWrapping:!0,styleActiveLine:!0,styleSelectedText:!0},tab:"editor"}},methods:{loadData(){console.log("Начинаем загрузку степа"),this.$axios.get("https://stepik.org/api/step-sources/"+this.step_id).then((t=>{this.step_data=t["data"],this.step_source=this.step_data["step-sources"][0],this.step_block=this.step_source["block"],console.log(t)}))},saveData(){let t={stepSource:{block:this.step_block,lesson:this.step_lesson,position:this.step_position,cost:this.step_source.cost,worth:this.step_source.worth}};this.$axios.put("https://stepik.org/api/step-sources/"+this.step_id,t).then((t=>{alert("Данные записаны на степике")}))},loadTemplate(){console.log("Загружаются шаблоны"),this.step_block.source.templates_data="Загружены данные какого то шаблона"},refreshPreview(){document.getElementById("previewiframe").src="https://stepik.org/lesson/"+this.step_lesson+"/step/"+this.step_position}},created(){this.loadData()}}),r=i,c=(s("390d"),s("2877")),n=s("65c6"),p=s("9c40"),b=s("6ac5"),d=s("f09f"),m=s("429b"),u=s("7460"),_=s("eb85"),h=s("adad"),v=s("823b"),k=s("d66b"),q=s("27f9"),f=s("f20b"),w=s("1c1c"),g=s("66e5"),x=s("4074"),C=s("0170"),Q=s("7f67"),y=s("eebe"),$=s.n(y),T=Object(c["a"])(r,a,o,!1,null,null,null);e["default"]=T.exports;$()(T,"components",{QToolbar:n["a"],QBtn:p["a"],QToolbarTitle:b["a"],QCard:d["a"],QTabs:m["a"],QTab:u["a"],QSeparator:_["a"],QTabPanels:h["a"],QTabPanel:v["a"],QEditor:k["a"],QInput:q["a"],QBtnDropdown:f["a"],QList:w["a"],QItem:g["a"],QItemSection:x["a"],QItemLabel:C["a"]}),$()(T,"directives",{ClosePopup:Q["a"]})}}]);